---
layout: layouts/base.njk
changeFreq: weekly
hideFooterSocial: true
numberOfLatestPostsToShow: 10
eleventyImport:
  collections: ["posts"]
---
{% set postsCount = collections.posts | length %}

<div class="home-layout">
  <div class="home-feed">
    <hr class="home-section-divider">
    {% set postslist = collections.posts | head(-1 * numberOfLatestPostsToShow) %}
    {% renderTemplate "webc", {posts: postslist, url: page.url} %}<post-feed :posts="posts" :url="url"></post-feed>{% endrenderTemplate %}

    {% set morePosts = postsCount - numberOfLatestPostsToShow %}
    {% if morePosts > 0 %}
    <p class="home-more-link"><a href="/blog/">View all posts &rarr;</a></p>
    {% endif %}
  </div>

  {% renderTemplate "webc", {metadata: metadata, collections: collections} %}<site-sidebar :metadata="metadata" :collections="collections"></site-sidebar>{% endrenderTemplate %}
</div>
